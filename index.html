<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" sizes="32x32" href="./img/favicon-32x32.png"> 
    <link rel="stylesheet" href="./css/style.css">
    <title>PORTFOLIO</title>
</head>
<body>
    <div id="loading" class="loading-wrap">
        <div class="loading">
            <svg>
                <circle cx="30" cy="30" r="30"></circle>
            </svg>
            Loding...
        </div>
    </div>
    <header></header>
    <nav id="nav" class="nav">
        <ul>
            <li class="active"><a href="#"><span>WORKS</span></a></li>
            <li><a href="#"><span>DESIGN</span></a></li>
            <li><a href="#"><span>CONTACT</span></a></li>
        </ul>
    </nav>
    <div id="aside" class="aside"> 
        <div id="changeBg" class="black-white">
            <img src="./img/littledeep.webp" alt="">
        </div>
        <div id="top" class="top-btn">
            <span class="left"></span>
            <span class="line"></span>
        </div>
    </div>
    <div id="section" class="section-wrap">
        <!-- works -->
        <section id="black" class="box section01">
            <h1>WORKS</h1>
            <div>
                <ul>
                    <li>
                        <a href="#">
                            <img id="previewImg" src="./img/works/seoulmilk.png" alt="서울우유">
                            <em>1</em>
                            <span>서울우유</span>
                            <div class="text-box">
                                <div>
                                    <span id="pcLayout">PC</span>
                                    <span id="mobileLayout">MOBILE</span>
                                </div>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <img id="previewImg" src="./img/works/seoulmilk.png" alt="서울우유">
                            <em>2</em>
                            <span>서울우유</span>
                            <div class="text-box">
                                <div>
                                    <span id="pcLayout">PC</span>
                                    <span id="mobileLayout">MOBILE</span>
                                </div>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <img id="previewImg" src="./img/works/seoulmilk.png" alt="서울우유">
                            <em>3</em>
                            <span>서울우유</span>
                            <div class="text-box">
                                <div>
                                    <span id="pcLayout">PC</span>
                                    <span id="mobileLayout">MOBILE</span>
                                </div>
                            </div>
                        </a>
                    </li> 
                    <li>
                        <a href="#">
                            <!-- <img id="previewImg" src="./img/works/seoulmilk.png" alt="서울우유"> -->
                            <em class="waiting">준비중</em>
                            <!-- <span>서울우유</span> -->
                            <!-- <div class="text-box">
                                <div>
                                    <span id="pcLayout">PC</span>
                                    <span id="mobileLayout">MOBILE</span>
                                </div>
                            </div> -->
                        </a>
                    </li> 
                </ul>
            </div>
        </section>
        <!-- <section id="black" class="box section02"></section>
        <section id="black" class="box section03"></section>  -->
    </div>
    <footer>
    </footer>
    <script src="./js/script.js"></script>
</body>
</html>

<script>
    window.onload = () => {
        setTimeout(() => {
            document.querySelector('#loading').style.cssText=`
                transition: opacity 1s linear;
                opacity : 0;
                display : none;
            `;
        }, 2000);

    }

    const init = () => {
        navBtn();
        whiteDark();
        scrollTop();
        previewImg();
    }

    // nav
    const navBtn = () => {
        let nav = document.querySelectorAll('#nav > ul > li');
        nav.forEach((v,i) => {
            nav[i].addEventListener('click', () => {
                nav.forEach((v,j) => {
                    nav[j].classList.remove('active');
                })
                nav[i].classList.add('active');
           }) 
        })
    }
    // scrollTop
    const scrollTop = () => {
        let top = document.querySelector('#top');
        let section = document.querySelector('#section');
        top.addEventListener('click', () => {
            section.scrollTo(0,0);
        })
    }

    // white & black Mode Change
    const whiteDark = () => {
        let index = 1;
        let changeBg = document.querySelector('#changeBg img');
        changeBg.addEventListener('click', () => {
            if( index == 1 ){
                changeBg.src = "./img/littlesun.webp";
                document.querySelector('body').classList.add('white');
                document.querySelector('body').classList.remove('black');
                index = 0;
            }else{
                changeBg.src = "./img/littledeep.webp";
                document.querySelector('body').classList.remove('white');
                document.querySelector('body').classList.add('black');
                index = 1;
            }
            
        })
    }

    // preview
    const previewImg = () => {
        let preview = document.querySelectorAll('#previewImg');   
        let y = 1;
        let mOver, mleave;  
        preview.forEach((v,i) => {  
            preview[i].addEventListener('mouseover', () => {    
                let previewHeight = preview[i].height;
                clearInterval(mleave); 
                    mOver = setInterval(() => {   

                    if( previewHeight - 320 < y ){
                        clearInterval(mOver); 
                    }else{
                        preview[i].style.top = - y+"px";
                        y+=10;
                        
                    } 
                }, 100);
            })   
 
        preview[i].addEventListener('mouseleave', (e) => {   
            clearInterval(mOver);  
                mleave = setInterval(() => {   
                    if( 0 > y ){
                        clearInterval(mleave); 
                    }else{ 
                        preview[i].style.top = - y+"px";
                        y-=10;   
                    }   
                }, 100);
            })  
        })   
    }

    init();
</script>